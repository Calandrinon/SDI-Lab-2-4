<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UsersTable.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">distributableApplication</a> &gt; <a href="index.source.html" class="el_package">Repository</a> &gt; <span class="el_source">UsersTable.java</span></div><h1>UsersTable.java</h1><pre class="source lang-java linenums">package Repository;

import Exceptions.ValidationException;
import Model.BaseEntity;
import Validator.Validator;

import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

public class UsersTable {
    //private Validator&lt;T&gt; validator;
    private String tableName, url, username, password;

<span class="fc" id="L17">    public UsersTable(/*Validator&lt;T&gt; validator,*/ String tableName, String url) {</span>
        //this.validator = validator;
<span class="fc" id="L19">        this.tableName = tableName;</span>
<span class="fc" id="L20">        this.url = url;</span>
<span class="fc" id="L21">        this.username = &quot;calandrinon&quot;;</span>
<span class="fc" id="L22">        this.password = &quot;12345&quot;;</span>
<span class="fc" id="L23">    }</span>
    /**

    @Override
    public Optional&lt;T&gt; findOne(ID id) {
        String query = &quot;SELECT * FROM &quot; + this.tableName + &quot; AS &quot; + this.tableName + &quot;(IdColumn) WHERE IdColumn = ?&quot;;

        try (var connection = DriverManager.getConnection(url, username, password);
             var parameterSetter = connection.prepareStatement(query)) {
            parameterSetter.setInt(1, (Integer) id);

            var queryExecutor = parameterSetter.executeQuery();
            if (queryExecutor.next()) {
                int actualId = queryExecutor.getInt(1);
                String firstName = queryExecutor.getString(2);
            }
        } catch (SQLException exception) {
            System.out.println(exception.getMessage());
        }

        return Optional.empty();
    }
    **/

    public List&lt;String&gt; findAll() {
<span class="fc" id="L48">        List&lt;String&gt; entitiesAsStrings = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L49">        String query = &quot;SELECT * FROM &quot; + this.tableName;</span>

<span class="fc" id="L51">        try (var connection = DriverManager.getConnection(url, username, password);</span>
<span class="fc" id="L52">             var preparedStatement = connection.prepareStatement(query);</span>
<span class="fc" id="L53">             var resultSet = preparedStatement.executeQuery()) {</span>

<span class="fc" id="L55">            var queryNumberOfColumns = connection.prepareStatement(&quot;SELECT COUNT(*) FROM &quot; + this.tableName);</span>
<span class="fc" id="L56">            var numberOfColumnsResult = queryNumberOfColumns.executeQuery();</span>
<span class="nc" id="L57">            int numberOfColumns = numberOfColumnsResult.getInt(1);</span>

<span class="nc" id="L59">            System.out.println(&quot;DATABASE ITERATION STARTED.&quot;);</span>
<span class="nc bnc" id="L60" title="All 2 branches missed.">            while (resultSet.next()) {</span>
<span class="nc" id="L61">                String value = &quot;&quot;;</span>
<span class="nc bnc" id="L62" title="All 2 branches missed.">                for (int i = 0; i &lt; numberOfColumns; i++) {</span>
<span class="nc" id="L63">                    value = value.concat(resultSet.getString(i)).concat(&quot;,&quot;);</span>
                }

<span class="nc" id="L66">                entitiesAsStrings.add(value);</span>
<span class="nc" id="L67">            }</span>

<span class="fc" id="L69">        } catch (SQLException throwables) {</span>
<span class="fc" id="L70">            System.out.println(&quot;FINDALL EXCEPTION MESSAGE: &quot;);</span>
<span class="fc" id="L71">            throwables.printStackTrace();</span>
<span class="nc" id="L72">        }</span>

<span class="fc" id="L74">        return entitiesAsStrings;</span>
    }

    public Optional&lt;String&gt; save(String entity) throws ValidationException {
<span class="nc" id="L78">        return Optional.empty();</span>
    }

    public Optional&lt;String&gt; delete(Integer id) {
<span class="nc" id="L82">        return Optional.empty();</span>
    }

    public Optional&lt;String&gt; update(String entity) throws ValidationException {
<span class="nc" id="L86">        return Optional.empty();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>